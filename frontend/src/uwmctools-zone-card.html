<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="../bower_components/paper-card/paper-card.html">

<link rel="import" href="shared-styles.html">

<link rel="import" href="firebase-indexeddb-link.html">
<link rel="import" href="uwmctools-player.html">
<link rel="import" href="uwmctools-location.html">
<link rel="import" href="uwmctools-zone-behavior.html">

<dom-module id="uwmctools-zone-card">
  <template>
    <style include="shared-styles">
      :host {
        display: block;
        padding: 20px;
      }

      paper-card {
        width: 100%;
      }

      paper-item {
        background-color: #fff;
      }
    </style>
    <firebase-indexeddb-link path="uwmctools/zones/data/[[zoneId]]" data="{{zone}}"></firebase-indexeddb-link>

    <paper-card heading="[[ownerName]]#[[zone.number]]">
      <paper-item>
        <uwmctools-player uuid="[[zone.owner]]" name="{{ownerName}}"></uwmctools-player>
      </paper-item>
      <paper-item>
        [[zoneSize(zone.pos)]] Blöcke ([[zoneWidth(zone.pos)]]*[[zoneHeight(zone.pos)]])
      </paper-item>
      <paper-item>
        <uwmctools-location x="[[zoneCenterX(zone.pos)]]" z="[[zoneCenterZ(zone.pos)]]"></uwmctools-location>
      </paper-item>
      <paper-item>
        Erstellt: [[timestampToDate(zone.created)]]
      </paper-item>
      <template is="dom-if" if="[[zone.deleted]]">
        <paper-item>
          Gelöscht: [[timestampToDate(zone.deleted)]]
        </paper-item>
      </template>
      <paper-item>
        [[zoneId]]
      </paper-item>
    </paper-card>   
  </template>

  <script>
    Polymer({
      is: 'uwmctools-zone-card',
      behaviors: [UwmctoolsZoneBehavior],
      properties: {
        zoneId: {
          type: String,
          value: "" 
        },
      }
    });
  </script>
</dom-module>
